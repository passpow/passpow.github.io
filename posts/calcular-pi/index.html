<!DOCTYPE html>
<html lang="">

<head>
    <title>
Métodos para calcular π | passpow
</title>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="generator" content="Hugo 0.80.0" />


<link rel="canonical" href="/posts/calcular-pi/" >
<link href="/sass/main.min.7c57d7795628d7c025cc5db105e8a8d02017cfd7b77929b93c867586a4b49d65.css" rel="stylesheet">



</head>

<body>

    <div class="flexWrapper">
        <header class="headerWrapper">
    <div class="header">
        <div>
            <a href="">
                <span class="terminal">passpow@passpow.github.io ~ $</span>
            </a>
        </div>
        <input class="side-menu" type="checkbox" id="side-menu">
        <label class="hamb" for="side-menu"><span class="hamb-line"></span></label>
        <nav class="headerLinks">
            <ul>
                
                <li>
                    <a href="/about" title="" >
                        ~/about</a>
                </li>
                
                <li>
                    <a href="/posts" title="" >
                        ~/posts</a>
                </li>
                
            </ul>
        </nav>
    </div>
</header>


        <div class="content">
            <main class="main">
                
<div class="postWrapper">
    <h1>Métodos para calcular π</h1>
    
    <section class="postMetadata">
        <dl>
            
                
<dt>tags</dt>
<dd><span></span>
    <a href="/tags/matem%C3%A1ticas/">#matemáticas</a><span></span>
    <a href="/tags/python/">#python</a><span></span>
    <a href="/tags/pi/">#pi</a><span></span>
    <a href="/tags/c/">#c</a></dd>
            
            
            
            
                <dt>published</dt>
                
                <dd><time datetime="2023-10-06">06 Oct 2023</time></dd>
            
            
                <dt>reading time</dt>
                <dd>4 minutes</dd>
            
        </dl>
    </section>
    
    <div>
        <p>Diferentes métodos para calcular decimales de π automatizados con python.</p>
<hr>
<h1 id="introducción">Introducción</h1>
<p>Todos los lectores ya conocerán el número π, definido por el perímetro de cualquier círculo entre
su diámetro. Lo cierto es que este es conocido desde la antigüedad y ya entonces antiguos matemáticos trataban de conseguir una aproximación, pero estos usaban métodos de medición para conseguirla, es decir mediante mediciones, lo que unicamente les permitió
avanzar de manera muy limitada, por la precisión tanto de la medida como del trazo del círculo.</p>
<ul>
<li>Mesopotámicos <em>π≈3.1428</em></li>
<li>Egipcios <em>π≈3.16049</em></li>
</ul>
<p><img src="/posts/images/pi/pi-papiro.png" alt="Papiro Egipcio"></p>
<p>Este caso es un claro ejemplo de un problema que parece sencillo al inicio, pero que en realidad necesita
de muchas matemáticas para ser resuelto. Hoy veremos 3 diferentes soluciones a este problema.</p>
<hr>
<h2 id="método-de-arquímedes">Método de Arquímedes</h2>
<p><img src="/posts/images/pi/arquimedes.jpg" alt="Arquímedes de Siracusa"></p>
<p>Como podemos ver en la siguiente animación, cuantos más lados tiene un polígono regular más se asemeja a una circunferencia.</p>
<p><img src="/posts/images/pi/Arquimedes-4K.gif" alt="Método Arquímedes"></p>
<p>La diferencia es clara, para calcular el perímetro polígono no nos es necesario π, por tanto una vez calculado dividiremos entre el doble del radio de este y obtendremos una aproximación de π.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#75715e">#El código usa polígonos de ángulos iguales para simplificar el programa </span>

<span style="color:#f92672">import</span> math
<span style="color:#f92672">import</span> sys

radio <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
ladoinicial <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
nlados <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>
sys<span style="color:#f92672">.</span>setrecursionlimit(<span style="color:#ae81ff">100</span>)

iteraciones<span style="color:#f92672">=</span>int(input(<span style="color:#e6db74">&#34;Iteraciones&gt; &#34;</span> ))
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">SiguienteLado</span>(lado):
    <span style="color:#66d9ef">global</span> nlados
    <span style="color:#66d9ef">global</span> iteraciones
    
    <span style="color:#66d9ef">if</span> iteraciones <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>:
        <span style="color:#66d9ef">global</span> radio
        apotema<span style="color:#f92672">=</span>math<span style="color:#f92672">.</span>sqrt(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>(lado<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)
        cateto1<span style="color:#f92672">=</span>radio<span style="color:#f92672">-</span>apotema
        cateto2<span style="color:#f92672">=</span>lado<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>
        ladonuevo<span style="color:#f92672">=</span>math<span style="color:#f92672">.</span>sqrt((cateto1)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>(cateto2)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)
        print(<span style="color:#e6db74">&#34;Numero de lados &#34;</span><span style="color:#f92672">+</span>str(nlados)<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;&gt;   &#34;</span><span style="color:#f92672">+</span>str((nlados<span style="color:#f92672">*</span>ladonuevo)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>radio))
        nlados<span style="color:#f92672">=</span>nlados<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>
        iteraciones<span style="color:#f92672">-=</span><span style="color:#ae81ff">1</span>
        SiguienteLado(ladonuevo)

SiguienteLado(ladoinicial)</code></pre></div>
<hr>
<h2 id="método-de-montecarlo">Método de Montecarlo</h2>
<p>Este método es genial para estimar el área de figuras complejas de evaluar con exactitud, se usa por ejemplo como método de integración, funciona mediante números aleatorios, o en este caso pseudoaleatorios. Supongamos una circunferencia de radio r inscrita en un cuadrado, el cociente entre sus áreas será:</p>
<p><img src="/posts/images/pi/montecarlocalc.png" alt="π por Montecarlo"></p>
<p>de donde se despeja que π es igual al cociente entre cuatro veces el área del circulo entre el área del cuadrado.</p>
<p><img src="/posts/images/pi/montecarlo-en-accion.gif" alt="Montecarlo en acción"></p>
<p>Como vemos en la animación el método consiste en elegir puntos aleatórios dentro de este cuadrado, todos entrarán en el cuadrado pero no todos en el círculo.</p>
<p>La idea tras esto es que depués de marcar una gran cantidad de puntos aleaorios por pura estadística el cociente entre los puntos del cuadrado y del círculo equivale al cociente entre sus áreas.</p>
<h3 id="en-python-con-gui">En Python con GUI</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#f92672">import</span> tkinter <span style="color:#66d9ef">as</span> tk
<span style="color:#f92672">import</span> random
<span style="color:#f92672">import</span> sys


dentro<span style="color:#f92672">=</span>[]
fuera<span style="color:#f92672">=</span>[]
sys<span style="color:#f92672">.</span>setrecursionlimit(<span style="color:#ae81ff">10000000</span>)
numerodepuntos<span style="color:#f92672">=</span>int(input(<span style="color:#e6db74">&#34;Cantidad de puntos&gt; &#34;</span>))

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">randompoint</span>(numbers):

    <span style="color:#66d9ef">if</span> numbers<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>:

        print(((len(dentro)<span style="color:#f92672">/</span>(len(dentro)<span style="color:#f92672">+</span>len(fuera))<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>)))
        print(len(fuera), len(dentro))
    <span style="color:#66d9ef">else</span>:
        a<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">500</span>)
        b<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">500</span>)

        canvas<span style="color:#f92672">.</span>create_oval(a, b, a<span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>, b<span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, fill<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;blue&#34;</span>)
        <span style="color:#66d9ef">if</span> ((<span style="color:#ae81ff">250</span><span style="color:#f92672">-</span>a)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>(<span style="color:#ae81ff">250</span><span style="color:#f92672">-</span>b)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">**</span><span style="color:#ae81ff">0.5</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">250</span>:
            dentro<span style="color:#f92672">.</span>append(<span style="color:#e6db74">&#34;1&#34;</span>)
        <span style="color:#66d9ef">else</span>:
            fuera<span style="color:#f92672">.</span>append(<span style="color:#e6db74">&#34;1&#34;</span>)
        canvas<span style="color:#f92672">.</span>after(<span style="color:#ae81ff">1</span>, randompoint, numbers<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)

window<span style="color:#f92672">=</span>tk<span style="color:#f92672">.</span>Tk()
canvas<span style="color:#f92672">=</span>tk<span style="color:#f92672">.</span>Canvas(window, width<span style="color:#f92672">=</span><span style="color:#ae81ff">500</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">500</span>, background<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;black&#34;</span>)
canvas<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
canvas<span style="color:#f92672">.</span>create_oval(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">500</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, fill<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;red&#34;</span>)

canvas<span style="color:#f92672">.</span>after(<span style="color:#ae81ff">10</span>, randompoint, numerodepuntos)

window<span style="color:#f92672">.</span>mainloop()</code></pre></div>
<h3 id="en-c">En C</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;math.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">int</span> puntos;
    <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">int</span> Pcirculos<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
    printf(<span style="color:#e6db74">&#34;Numero de puntos&gt; &#34;</span>);
    scanf(<span style="color:#e6db74">&#34;%ld&#34;</span>, <span style="color:#f92672">&amp;</span>puntos);
    srand(time_t(NULL));
    <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span> (i; i<span style="color:#f92672">&lt;</span>puntos; i<span style="color:#f92672">++</span>){

        <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> rand() <span style="color:#f92672">%</span> <span style="color:#ae81ff">500</span>;
        <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> rand() <span style="color:#f92672">%</span> <span style="color:#ae81ff">500</span>;

        <span style="color:#66d9ef">int</span> c<span style="color:#f92672">=</span>sqrt(pow((a<span style="color:#f92672">-</span><span style="color:#ae81ff">250</span>), <span style="color:#ae81ff">2</span>)<span style="color:#f92672">+</span>pow((b<span style="color:#f92672">-</span><span style="color:#ae81ff">250</span>), <span style="color:#ae81ff">2</span>));

        <span style="color:#66d9ef">if</span> (c<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">250</span>){
            Pcirculos<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>;
        }
    }
    <span style="color:#66d9ef">float</span> res1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">*</span>((<span style="color:#66d9ef">float</span>)Pcirculos<span style="color:#f92672">/</span>(<span style="color:#66d9ef">float</span>)puntos);
    printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, puntos);
    printf(<span style="color:#e6db74">&#34;-----------------</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
    printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, Pcirculos);
    printf(<span style="color:#e6db74">&#34;Aprox&gt; %f&#34;</span>, res1);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}</code></pre></div>
<hr>
<h2 id="series">Series</h2>
<p>Por último las series, sin duda el método más eficiente para calcular pi, <a href="https://es.wikipedia.org/wiki/N%C3%BAmero_%CF%80#F%C3%B3rmulas_que_contienen_el_n%C3%BAmero_%CF%80">existen una gran cantidad de estas</a> algunas mejores que otras hoy vamos a aplicar la serie de <a href="https://es.wikipedia.org/wiki/Serie_de_Ramanujan-Sato">Ramanujan-Sato</a>. Simplemente calculamos mediante infinitas iteraciones de la siguiente suma infinita:</p>
<p><img src="/posts/images/pi/serie.png" alt="Serie"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#f92672">from</span> decimal <span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span>
<span style="color:#f92672">import</span> math

precision<span style="color:#f92672">=</span>int(input(<span style="color:#e6db74">&#34;Máximo de dígitos&gt; &#34;</span>))
iteraciones<span style="color:#f92672">=</span>int(input(<span style="color:#e6db74">&#34;Numero de iteraciones&gt; &#34;</span>))
getcontext()<span style="color:#f92672">.</span>prec <span style="color:#f92672">=</span> precision

a<span style="color:#f92672">=</span>(Decimal(<span style="color:#ae81ff">2</span>)<span style="color:#f92672">*</span>(Decimal(<span style="color:#ae81ff">2</span>)<span style="color:#f92672">**</span>Decimal(<span style="color:#ae81ff">0.5</span>)))<span style="color:#f92672">/</span>Decimal(<span style="color:#ae81ff">9801</span>)
b<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>

<span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>,iteraciones):
    
    numerador<span style="color:#f92672">=</span>math<span style="color:#f92672">.</span>factorial(<span style="color:#ae81ff">4</span><span style="color:#f92672">*</span>k) <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1103</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">26390</span><span style="color:#f92672">*</span>k)

    denominador<span style="color:#f92672">=</span>(math<span style="color:#f92672">.</span>factorial(k)<span style="color:#f92672">**</span><span style="color:#ae81ff">4</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">396</span><span style="color:#f92672">**</span>(<span style="color:#ae81ff">4</span><span style="color:#f92672">*</span>k)
    b<span style="color:#f92672">+=</span>Decimal(a)<span style="color:#f92672">*</span>Decimal(numerador)<span style="color:#f92672">/</span>Decimal(denominador)
    
print(<span style="color:#ae81ff">1</span><span style="color:#f92672">/</span>Decimal(b))</code></pre></div>
<hr>
<h1 id="notas-finales">Notas finales</h1>
<p>En este post, hemos explorado tres métodos diferentes para calcular el valor de π de manera automatizada utilizando Python y C. Cada uno de estos métodos tiene sus propias ventajas y aplicaciones.</p>
<p>El Método de Arquímedes nos muestra cómo la geometría y la recursión pueden llevarnos a una aproximación de π al dividir el perímetro de polígonos regulares entre el doble del radio de una circunferencia inscrita.</p>
<p>El Método de Montecarlo, por otro lado, nos demuestra cómo los números aleatorios pueden ayudarnos a estimar π calculando el área de una circunferencia inscrita en un cuadrado. Esta técnica se usa ampliamente en computación científica.</p>
<p>Finalmente, las Series nos brindan un enfoque más sofisticado y preciso para calcular π. La serie de Ramanujan-Sato, en particular, nos permite obtener resultados altamente precisos a medida que aumentamos la cantidad de iteraciones.</p>
    </div>
</div>

            </main>
        </div>


        <footer class="footer">
    
        <span>passpow</span>
    
</footer>
    </div>

</body>

</html>